<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="css/menuDeroulant.css" />

    <title>Menu déroulant</title>
  </head>
  <body>
    <form>
      <div class="container pt-3">
        <div class="form-group">
          <label for="exampleFormControlSelect1">Choix du plat</label>
          <select class="form-control" id="choix1">
            <option class="choix2">--Choisissez votre plat--</option>
            <option class="choix2" value="sandwich">sandwich</option>
            <option class="choix2" value="pizza">pizza</option>
            <option class="choix2" value="burger">burger</option>
          </select>
        </div>

        <!--SANDWICH INGREDIENTS-->
        <div id="hideIngr">
          <div class="form-check options sandwich">
            <input
              class="form-check-input opt1"
              type="checkbox"
              value="tomate"
              id="tomate"
            />
            <label class="form-check-label" for="tomate"> tomate </label>

            <input
              class="form-check-input opt1"
              type="checkbox"
              value="salade"
              id="salade"
            />
            <label class="form-check-label" for="salade"> salade </label>

            <input
              class="form-check-input opt1"
              type="checkbox"
              value="oignon"
              id="oignon"
            />
            <label class="form-check-label" for="oignon"> oignon </label>
          </div>

          <!--PIZZA INGREDIENTS-->
          <div class="form-check options pizza">
            <input
              class="form-check-input opt1"
              type="radio"
              name="pizza"
              value="napo"
              id="napo"
            />
            <label class="form-check-label" for="napo"> napo </label>

            <input
              class="form-check-input opt1"
              type="radio"
              name="pizza"
              value="regina"
              id="regina"
            />
            <label class="form-check-label" for="regina"> regina </label>

            <input
              class="form-check-input opt1"
              type="radio"
              name="pizza"
              value="marguerite"
              id="marguerite"
            />
            <label class="form-check-label" for="marguerite">
              marguerite
            </label>
          </div>

          <!--BURGER TAILLE-->
          <div class="form-check options burger">
            <input
              class="form-check-input opt1"
              type="radio"
              name="burger"
              value="L"
              id="L"
            />
            <label class="form-check-label" for="L"> L </label>

            <input
              class="form-check-input opt1"
              type="radio"
              name="burger"
              value="XL"
              id="XL"
            />
            <label class="form-check-label" for="XL"> XL </label>

            <input
              class="form-check-input opt1"
              type="radio"
              name="burger"
              value="XXL"
              id="XXL"
            />
            <label class="form-check-label" for="XXL"> XXL </label>
          </div>
        </div>

        <div class="form-group">
          <label for="exampleFormControlSelect1">Quantité</label>
          <input id="qtt" type="number" min="1" max="10" value="1" />
        </div>
        <button type="button" id="btn1" class="btn btn-success">
          Valider la commande
        </button>
        <div class="form-group pt-5">
          <label for="exampleFormControlTextarea1"
            >Détails de la commande</label
          >
          <textarea class="form-control" id="textarea1" rows="3"></textarea>
        </div>
      </div>
    </form>

    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/all.min.js"></script>
    <script>
      $(document).ready(function () {
        let ingr = [];
        let produit;
        $(".options").hide();
        $("#choix1").change(function () {
          produit = $("#choix1").val(); // variable déclaré depuis ligne -3
          $("." + $("#choix1").val()).show();
        });
        $("#btn1").click(function () {
          // let e = $("." + $("#choix1").val() + " :checked") //------ ligne d'après peut s'utiliser seule, sans variable "e"
          $("." + $("#choix1").val() + " :checked").each(function () {
            ingr.push($(this).val());
            
          });
          console.log(e)
          $("#textarea1").val($("#qtt").val() + " " + produit + " " + ingr.join(", "));
        });
      });
    </script>
  </body>
</html>
